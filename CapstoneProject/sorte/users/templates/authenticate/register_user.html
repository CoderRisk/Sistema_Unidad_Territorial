{% extends 'core/base.html' %}

{% load static %}

{% block extrastyle %}
    <link rel="stylesheet" href="{% static 'core/css/vecino/iniciarSesion-Inscribirse/iniciarSesion-Inscribirse.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/vecino/iniciarSesion-Inscribirse/inscribirse.css' %}">
{% endblock extrastyle %}

{% block Headerborder %}
    <div class="header__navegacion">
        <ul class="header__lista">
            <li class="header__item">
                <a class="header__link" aria-current="page" href="{% url 'inicio' %}">Inicio</a>
            </li>
            <li class="header__item">
                <a class="header__link" aria-current="page"
                    href="{% url 'listar_noticia' %}">Noticias</a>
            </li>
            <li class="header__item">
                <a class="header__link" aria-current="page"
                    href="{% url 'listar_proyectos' %}">Proyectos</a>
            </li>
            <li class="header__item">
                <a class="header__link" aria-current="page"
                    href="{% url 'listar_actividad' %}">Actividades</a>
            </li>
        </ul>
    </div> 
{% endblock Headerborder %}

{% block FuncionVecino %}    
<div class="header__navegacion">
    <ul class="header__lista">
        <li class="header__item">
            <a class="header__link iniciar" aria-current="page" href="{% url 'login' %}">Iniciar sesión</a>
        </li>
        <li class="header__item">
            <a class="header__link inscribirse" aria-current="page"
                href="{% url 'register_user' %}">Registrarse</a>
        </li>
    </ul>
</div>
{% endblock FuncionVecino %}

{% block content %}

<h1 class="titulo">Únete a nuestra comunidad</h1>
<main class="main container">

    <form id="formulario" class="formulario" action="{% url 'register_user' %}" method="POST"> {% csrf_token %}
    
        <svg class="formulario__svg" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
            <path d="M399 384.2C376.9 345.8 335.4 320 288 320H224c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"/>
        </svg>
    
        <div class="formulario__nav">
            <ul class="formulario__lista">
                <li class="formulario__item">
                    <a class="formulario__link border" href="{% url 'register_user' %}">Registrarse</a>
                </li>
                <li class="formulario__item">
                    <a class="formulario__link" href="{% url 'login' %}">Iniciar Sesión</a>
                </li>
            </ul>
        </div>
    
        <div class="formulario__campos">
            <div class="formulario__navegacion">
    
                <div class="formulario__contenedor">
                    <div class="formulario__campo">
                        <input id="rut" type="text" class="formulario__input" name="rut" aria-describedby="emailHelp"
                        value="{{ form.rut.value|default:'' }}" placeholder="Ej: xx.xxx.xxx-x/x.xxx.xxx-x" maxlength="12">
                        <label for="rut" class="formulario__label">Rut</label>
                        {% if form.errors.rut %}
                        <div class="error">
                            <strong class="error__mensaje">Error en el RUT:</strong>
                            {{ form.errors.rut }}
                        </div>
                        {% endif %}
                    </div>
                    <div class="formulario__campo">
                        <input id="nombre" type="text" class="formulario__input" name="first_name" aria-describedby="emailHelp"
                        value="{{ form.first_name.value|default:'' }}" placeholder="Ej: Carlos">
                        <label for="nombre" class="formulario__label">Nombre</label>
                    </div>
                    <div class="formulario__campo">
                        <input id="apellido" type="text" class="formulario__input" name="last_name" aria-describedby="emailHelp"
                        value="{{ form.last_name.value|default:'' }}" placeholder="Ej: Vidal">
                        <label for="apellido" class="formulario__label">Apellido</label>
                    </div>
                    <div class="formulario__campo">
                        <input id="fechaNacimiento" type="date" class="formulario__input" name="birthdate" aria-describedby="emailHelp"
                            value="{{ form.birthdate.value|default:'' }}">
                        <label for="fechaNacimiento" class="formulario__label">Fecha de nacimiento</label>
                        {% if form.errors.birthdate %}
                        <div class="error">
                            <strong class="error__mensaje">Error en la fecha:</strong>
                            {{ form.errors.birthdate }}
                        </div>
                        {% endif %}
                    </div>
                    <div class="formulario__campo">
                        <input id="correo" type="email" class="formulario__input" name="email" aria-describedby="emailHelp"
                            value="{{ form.email.value|default:'' }}" placeholder="Ej: prueba@prueba.com">
                        <label for="correo" class="formulario__label">Correo</label>
                        {% if form.errors.email %}
                        <div class="error" >
                            <strong class="error__mensaje">Error en el correo:</strong>
                            {{ form.errors.email }}
                        </div>
                        {% endif %}
                        
                    </div>
                </div>
    
                <div class="formulario__contenedor">
                    <div class="formulario__campo">
                        <select id="genero" name="gender" class="formulario__select">
                            <option selected disabled value="">Selecciona tu género</option>
                            <option value="M" {% if form.gender.value == "M" %} selected {% endif %}>Masculino</option>
                            <option value="F" {% if form.gender.value == "F" %} selected {% endif %}>Femenino</option>
                            <option value="O" {% if form.gender.value == "O" %} selected {% endif %}>Otro</option>
                            <option value="N" {% if form.gender.value == "N" %} selected {% endif %}>Prefiero no decirlo</option>
                        </select>
                        <label class="formulario__label" for="genero">Género</label>
                
                        {% if form.errors.gender %}
                        <div class="error">
                            <strong class="error__mensaje">Error en el género:</strong>
                            {{ form.errors.gender }}
                        </div>
                        {% endif %}
                    </div>
                    <div class="formulario__campo">
                        <input id="direccion" type="text" class="formulario__input" name="address" aria-describedby="emailHelp"
                        value="{{ form.address.value|default:'' }}" placeholder="Ej: Antonio Rudiguer 7458">
                        <label for="direccion" class="formulario__label">Dirección</label>
                    </div>
                    <div class="formulario__campo">
                        <input id="password1" type="password" class="formulario__input" name="password1" placeholder="Ingresa tu contraseña" value="{{ form.password1.value|default:'' }}">
                        <label for="password1" class="formulario__label">Contraseña</label>
                        <img class="formulario__visualizar" src="{% static 'core/img/eye.svg' %}" alt="imagen eye">
                        <img class="formulario__oculto" src="{% static 'core/img/eyeSlash.svg' %}" alt="imagen eye">
                        {% if form.errors.password1 %}
                        <div class="error">
                            <strong class="error__mensaje">Error en la contraseña:</strong>
                            {{ form.errors.password1 }}
                        </div>
                        {% endif %}
                    </div>
                    <div class="formulario__campo">
                        <input id="password2" type="password" class="formulario__input" name="password2" placeholder="Confirma tu contraseña" value="{{ form.password2.value|default:'' }}">
                        <label for="password2" class="formulario__label">Confirmar Contraseña</label>
                        <img class="formulario__visualizar" src="{% static 'core/img/eye.svg' %}" alt="imagen eye">
                        <img class="formulario__oculto" src="{% static 'core/img/eyeSlash.svg' %}" alt="imagen eye">
                        {% if form.errors.password2 %}
                        <div class="error">
                            <strong class="error__mensaje">Error en la contraseña:</strong>
                            {{ form.errors.password2 }}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
    
        </div>
        <div class="formulario__campos">
            <div class="formulario__contenedor">
                <div class="formulario__campo">
                    <div class="g-recaptcha" data-sitekey="6LcWbc0oAAAAADAKiodLG-GfTuyfWj_CrEJgpEEm" data-callback="thecallback" data-expired-callback="Expiredcallback"></div>
                </div>
            </div>
        </div>
        <div class="formulario__campos">
            <div class="formulario__contenedor">
                <div class="formulario__campo">
                    <button type="submit" class="formulario__iniciar">
                        Regístrarse
                    </button>
                    <div class="load">
                        <div class="sk-chase">
                            <div class="sk-chase-dot"></div>
                            <div class="sk-chase-dot"></div>
                            <div class="sk-chase-dot"></div>
                            <div class="sk-chase-dot"></div>
                            <div class="sk-chase-dot"></div>
                            <div class="sk-chase-dot"></div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        <div class="formulario__campos">
            <div class="formulario__contenedor">
                <div class="formulario__campo">
                    <p class="formulario__p">Si ya estás inscrito en SORTE, puedes iniciar sesión con tu cuenta haciendo click <a class="formulario__olvidar" href="{% url 'login' %}">aquí</a></p>
                </div>
            </div>
        </div>
    </form>
</main>
{% endblock %}

{% block Footerborder %}


        <div class="header__navegacion">
            <ul class="header__lista">
                <li class="header__item">
                    <a class="header__link" aria-current="page" href="{% url 'inicio' %}">
                        <span>Inicio</span></a>
                </li>
                <li class="header__item">
                    <a class="header__link" aria-current="page"
                        href="{% url 'listar_noticia' %}">
                        <span>Noticias</span></a>
                </li>
                <li class="header__item">
                    <a class="header__link" aria-current="page"
                        href="{% url 'listar_proyectos' %}">
                        <span>Proyectos</span></a>
                </li>
                <li class="header__item">
                    <a class="header__link" aria-current="page"
                        href="{% url 'listar_actividad' %}">
                        <span>Actividades</span></a>
                </li>
            </ul>
        </div>
   
    
{% endblock Footerborder %}



{% block js %}
    <script src="{% static 'node_modules/sweetalert2/dist/sweetalert2.all.min.js' %}"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script type="module" src="{% static 'core/js/vecino/Inscribirse/inscribirse.js' %}"></script>
{% endblock js %}
    